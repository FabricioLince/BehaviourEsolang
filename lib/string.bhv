
  !&&(
    upalpha  = "ABCDEFGHIJKLMNOPQRSTUVWXYZ"
    lowalpha = "abcdefghijklmnopqrstuvwxyz"
    
    toupper = &(a*&[upalpha%(lowalpha%a) a])>&a+b
    tolower = &(a*&[lowalpha%(upalpha%a) a])>&a+b
    substr = &a/(index-#a)/size
    
    format = &(
      str = a
      args = al/(1-#al)
      res = ""
      i = 0
      \~(
        p = str%"_"
        res += str/p
        res += args%i
        i += 1
        str /= (p-#str+1)
      )
      res + str
    )
    
    &&a
  )